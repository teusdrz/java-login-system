### Java Login System - System & Audit API Tests
### Base URL: http://localhost:8080/api/v1

@baseUrl = http://localhost:8080/api/v1
@contentType = application/json
@authToken = your-jwt-token-here
@adminToken = admin-jwt-token-here

###########################################################################
# ğŸ“Š SYSTEM STATISTICS TESTS
###########################################################################

### 1. ğŸ“ˆ Get System Statistics - Admin Access
GET {{baseUrl}}/system/stats
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 2. ğŸ“Š Get Detailed System Metrics
GET {{baseUrl}}/system/metrics
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 3. âŒ Get System Statistics - Non-Admin Access
GET {{baseUrl}}/system/stats
Authorization: Bearer {{authToken}}
Accept: {{contentType}}

### 4. âŒ Get System Statistics - No Authorization
GET {{baseUrl}}/system/stats
Accept: {{contentType}}

###########################################################################
# â¤ï¸ HEALTH CHECK TESTS
###########################################################################

### 5. â¤ï¸ Basic Health Check
GET {{baseUrl}}/system/health
Accept: {{contentType}}

### 6. â¤ï¸ Detailed Health Check
GET {{baseUrl}}/system/health/detailed
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 7. ğŸ” Database Health Check
GET {{baseUrl}}/system/health/database
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 8. ğŸ” Service Dependencies Health
GET {{baseUrl}}/system/health/services
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 9. ğŸ“Š Performance Health Metrics
GET {{baseUrl}}/system/health/performance
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

###########################################################################
# ğŸ“‹ AUDIT LOG TESTS
###########################################################################

### 10. ğŸ“Š Get All Audit Logs - Recent
GET {{baseUrl}}/audit?page=0&size=20&sortBy=timestamp&sortDirection=DESC
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 11. ğŸ“Š Get Audit Logs - Pagination Test
GET {{baseUrl}}/audit?page=1&size=10
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 12. ğŸ” Filter Audit Logs by User
GET {{baseUrl}}/audit?username=admin&page=0&size=15
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 13. ğŸ” Filter Audit Logs by Action
GET {{baseUrl}}/audit?action=LOGIN&page=0&size=10
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 14. ğŸ” Filter Audit Logs by Level
GET {{baseUrl}}/audit?level=INFO&page=0&size=10
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 15. ğŸ” Filter Audit Logs by Level - Warning
GET {{baseUrl}}/audit?level=WARNING
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 16. ğŸ” Filter Audit Logs by Level - Error
GET {{baseUrl}}/audit?level=ERROR
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 17. ğŸ“… Filter Audit Logs by Date Range
GET {{baseUrl}}/audit?startDate=2025-08-01&endDate=2025-08-31
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 18. ğŸ“… Filter Audit Logs - Today Only
GET {{baseUrl}}/audit?startDate=2025-08-27&endDate=2025-08-27
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 19. ğŸ” Complex Audit Filter - Multiple Criteria
GET {{baseUrl}}/audit?username=admin&action=LOGIN&level=INFO&startDate=2025-08-01
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 20. âŒ Get Audit Logs - Non-Admin Access
GET {{baseUrl}}/audit
Authorization: Bearer {{authToken}}
Accept: {{contentType}}

### 21. âŒ Get Audit Logs - No Authorization
GET {{baseUrl}}/audit
Accept: {{contentType}}

###########################################################################
# ğŸ“ˆ AUDIT STATISTICS TESTS
###########################################################################

### 22. ğŸ“ˆ Get Audit Statistics - Overview
GET {{baseUrl}}/audit/stats
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 23. ğŸ“Š Get Audit Statistics - By Action
GET {{baseUrl}}/audit/stats/actions
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 24. ğŸ“Š Get Audit Statistics - By User
GET {{baseUrl}}/audit/stats/users
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 25. ğŸ“Š Get Audit Statistics - By Level
GET {{baseUrl}}/audit/stats/levels
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 26. ğŸ“… Get Audit Statistics - Time-based
GET {{baseUrl}}/audit/stats/timeline?period=DAILY&days=7
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 27. ğŸ“… Get Audit Statistics - Monthly Trends
GET {{baseUrl}}/audit/stats/timeline?period=MONTHLY&months=6
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 28. ğŸ” Get Security Events Summary
GET {{baseUrl}}/audit/security-events
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 29. âŒ Get Audit Statistics - Non-Admin Access
GET {{baseUrl}}/audit/stats
Authorization: Bearer {{authToken}}
Accept: {{contentType}}

###########################################################################
# ğŸ’¾ BACKUP MANAGEMENT TESTS
###########################################################################

### 30. ğŸ”„ Create System Backup - Full
POST {{baseUrl}}/backup/create
Content-Type: {{contentType}}
Authorization: Bearer {{adminToken}}

{
  "name": "full_backup_{{$timestamp}}",
  "description": "Full system backup created via API test",
  "includeUserData": true,
  "includeAuditLogs": true,
  "includeSystemSettings": true,
  "compressionLevel": "STANDARD"
}

### 31. ğŸ”„ Create System Backup - Users Only
POST {{baseUrl}}/backup/create
Content-Type: {{contentType}}
Authorization: Bearer {{adminToken}}

{
  "name": "users_backup_{{$timestamp}}",
  "description": "User data backup only",
  "includeUserData": true,
  "includeAuditLogs": false,
  "includeSystemSettings": false,
  "compressionLevel": "HIGH"
}

### 32. ğŸ”„ Create System Backup - Audit Logs Only
POST {{baseUrl}}/backup/create
Content-Type: {{contentType}}
Authorization: Bearer {{adminToken}}

{
  "name": "audit_backup_{{$timestamp}}",
  "description": "Audit logs backup only",
  "includeUserData": false,
  "includeAuditLogs": true,
  "includeSystemSettings": false,
  "compressionLevel": "LOW"
}

### 33. âŒ Create Backup - Invalid Configuration
POST {{baseUrl}}/backup/create
Content-Type: {{contentType}}
Authorization: Bearer {{adminToken}}

{
  "name": "",
  "description": "Invalid backup",
  "includeUserData": false,
  "includeAuditLogs": false,
  "includeSystemSettings": false
}

### 34. âŒ Create Backup - Non-Admin Access
POST {{baseUrl}}/backup/create
Content-Type: {{contentType}}
Authorization: Bearer {{authToken}}

{
  "name": "unauthorized_backup",
  "description": "Should fail",
  "includeUserData": true
}

###########################################################################
# ğŸ“‹ BACKUP LISTING AND MANAGEMENT
###########################################################################

### 35. ğŸ“‹ List All Backups
GET {{baseUrl}}/backup?page=0&size=10&sortBy=createdAt&sortDirection=DESC
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 36. ğŸ“‹ List Backups - Filter by Status
GET {{baseUrl}}/backup?status=COMPLETED
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 37. ğŸ“‹ List Backups - Filter by Type
GET {{baseUrl}}/backup?type=FULL
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 38. ğŸ“‹ List Backups - Date Range
GET {{baseUrl}}/backup?createdAfter=2025-08-01&createdBefore=2025-08-31
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 39. ğŸ” Get Backup Details by ID
GET {{baseUrl}}/backup/1
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 40. âŒ Get Non-existent Backup
GET {{baseUrl}}/backup/99999
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 41. âŒ List Backups - Non-Admin Access
GET {{baseUrl}}/backup
Authorization: Bearer {{authToken}}
Accept: {{contentType}}

###########################################################################
# ğŸ”„ BACKUP RESTORE TESTS
###########################################################################

### 42. ğŸ”„ Restore Backup - Users Only (Safe)
POST {{baseUrl}}/backup/1/restore
Content-Type: {{contentType}}
Authorization: Bearer {{adminToken}}

{
  "restoreUserData": false,
  "restoreAuditLogs": false,
  "restoreSystemSettings": false,
  "confirmRestore": true,
  "restoreNote": "API test restore - no actual data changed"
}

### 43. âŒ Restore Backup - Missing Confirmation
POST {{baseUrl}}/backup/1/restore
Content-Type: {{contentType}}
Authorization: Bearer {{adminToken}}

{
  "restoreUserData": true,
  "restoreAuditLogs": true,
  "confirmRestore": false
}

### 44. âŒ Restore Non-existent Backup
POST {{baseUrl}}/backup/99999/restore
Content-Type: {{contentType}}
Authorization: Bearer {{adminToken}}

{
  "restoreUserData": false,
  "confirmRestore": true
}

### 45. âŒ Restore Backup - Non-Admin Access
POST {{baseUrl}}/backup/1/restore
Content-Type: {{contentType}}
Authorization: Bearer {{authToken}}

{
  "restoreUserData": false,
  "confirmRestore": true
}

###########################################################################
# ğŸ—‘ï¸ BACKUP DELETION TESTS
###########################################################################

### 46. ğŸ—‘ï¸ Delete Backup - Test Backup
DELETE {{baseUrl}}/backup/3
Authorization: Bearer {{adminToken}}

### 47. âŒ Delete Non-existent Backup
DELETE {{baseUrl}}/backup/99999
Authorization: Bearer {{adminToken}}

### 48. âŒ Delete Backup - Non-Admin Access
DELETE {{baseUrl}}/backup/2
Authorization: Bearer {{authToken}}

### 49. âŒ Delete Backup - No Authorization
DELETE {{baseUrl}}/backup/2

###########################################################################
# ğŸ“Š SYSTEM MONITORING TESTS
###########################################################################

### 50. ğŸ–¥ï¸ Get System Information
GET {{baseUrl}}/system/info
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 51. ğŸ“ˆ Get System Performance Metrics
GET {{baseUrl}}/system/performance
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 52. ğŸ’¾ Get Memory Usage Statistics
GET {{baseUrl}}/system/memory
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 53. ğŸ’½ Get Storage Information
GET {{baseUrl}}/system/storage
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 54. ğŸ”„ Get System Uptime
GET {{baseUrl}}/system/uptime
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 55. ğŸŒ Get Network Configuration
GET {{baseUrl}}/system/network
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 56. âš™ï¸ Get System Configuration
GET {{baseUrl}}/system/config
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 57. âŒ Get System Info - Non-Admin Access
GET {{baseUrl}}/system/info
Authorization: Bearer {{authToken}}
Accept: {{contentType}}

###########################################################################
# ğŸ”§ SYSTEM MAINTENANCE TESTS
###########################################################################

### 58. ğŸ§¹ Cleanup Audit Logs - Old Entries
POST {{baseUrl}}/system/cleanup/audit
Content-Type: {{contentType}}
Authorization: Bearer {{adminToken}}

{
  "olderThanDays": 90,
  "keepMinimumEntries": 1000,
  "dryRun": true
}

### 59. ğŸ§¹ Cleanup Temporary Files
POST {{baseUrl}}/system/cleanup/temp
Authorization: Bearer {{adminToken}}

### 60. ğŸ”„ System Cache Refresh
POST {{baseUrl}}/system/cache/refresh
Authorization: Bearer {{adminToken}}

### 61. ğŸ“Š Get Cleanup Statistics
GET {{baseUrl}}/system/cleanup/stats
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 62. âŒ System Cleanup - Non-Admin Access
POST {{baseUrl}}/system/cleanup/audit
Content-Type: {{contentType}}
Authorization: Bearer {{authToken}}

{
  "olderThanDays": 30,
  "dryRun": true
}

###########################################################################
# ğŸš¨ SYSTEM ALERTS AND NOTIFICATIONS
###########################################################################

### 63. ğŸš¨ Get System Alerts
GET {{baseUrl}}/system/alerts
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 64. ğŸš¨ Get Active System Alerts
GET {{baseUrl}}/system/alerts?status=ACTIVE
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 65. ğŸš¨ Get Critical System Alerts
GET {{baseUrl}}/system/alerts?severity=CRITICAL
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 66. ğŸ”” Get System Notifications
GET {{baseUrl}}/system/notifications
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 67. âœ… Acknowledge System Alert
PUT {{baseUrl}}/system/alerts/1/acknowledge
Content-Type: {{contentType}}
Authorization: Bearer {{adminToken}}

{
  "acknowledgedBy": "admin",
  "note": "Alert acknowledged via API test"
}

### 68. âŒ Get System Alerts - Non-Admin Access
GET {{baseUrl}}/system/alerts
Authorization: Bearer {{authToken}}
Accept: {{contentType}}

###########################################################################
# ğŸ” ADVANCED MONITORING TESTS
###########################################################################

### 69. ğŸ“Š Get Real-time System Metrics
GET {{baseUrl}}/system/metrics/realtime
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 70. ğŸ“ˆ Get Historical Performance Data
GET {{baseUrl}}/system/metrics/history?hours=24&interval=1h
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 71. ğŸ”¥ Get System Load Information
GET {{baseUrl}}/system/load
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 72. ğŸ‘¥ Get Active Sessions Information
GET {{baseUrl}}/system/sessions
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 73. ğŸ” Get Security Status
GET {{baseUrl}}/system/security/status
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

### 74. ğŸ“Š Get Comprehensive System Report
GET {{baseUrl}}/system/report?includePerformance=true&includeAudit=true&includeSecurity=true
Authorization: Bearer {{adminToken}}
Accept: {{contentType}}

###########################################################################
# ğŸ“ TEST EXECUTION NOTES
###########################################################################

# Test Categories:
# âœ… = Should succeed (expect 200, 201 status codes)
# âŒ = Should fail (expect 400, 401, 403, 404 status codes)
# ğŸ“Š = Data retrieval operations
# ğŸ”„ = Data modification operations
# ğŸ—‘ï¸ = Data deletion operations
# ğŸ”§ = System maintenance operations

# Prerequisites:
# 1. Admin token must be obtained from successful admin login
# 2. Regular user token for permission testing
# 3. System should be running on localhost:8080
# 4. Backup operations are safe - use dryRun when possible

# Expected Audit Events:
# - All admin operations should generate audit logs
# - Failed permission attempts should be logged
# - System operations should create appropriate audit entries

# Security Considerations:
# - Non-admin users should be denied access to system operations
# - Audit logs should not be accessible to regular users
# - Backup operations require highest privileges
# - All operations should validate authentication tokens
